# CONSTRAINTS

## Технические ограничения
1. Работать только в sandbox-проекте.
2. После модификации jar удалять подписи:
   - `META-INF/*.SF`
   - `META-INF/*.RSA`
   - `META-INF/*.DSA`
3. Избегать полного repackage через полную распаковку `7z` для данного JAR (риск потери файлов на длинных путях).
4. Предпочтительный метод сборки:
   - копия исходного jar,
   - точечная замена/добавление class-файлов,
   - удаление signature-файлов.

## Архитектурные ограничения
1. Не раздувать патченный Cubism-код большим серверным кодом.
2. Серверный runtime должен быть в отдельном JAR (agent/server jar).
3. Патч в Cubism должен быть максимально стабильным и коротким (bootstrap only).
4. Должна быть возможность отключить сервер через флаг/env.

## Операционные ограничения
1. Каждый шаг фиксировать в `output/patch.log`.
2. Любой breaking-риск помечать до внедрения.
3. Изменения должны быть обратимы (clear rollback path).
