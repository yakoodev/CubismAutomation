<?xml version="1.0" encoding="UTF-8"?>
<shader language="GLSL">
    <properties>
        <property name="s_texture0" text="Texture" default="red" />
    </properties>
    <blend srcColor="ONE" dstColor="ONE_MINUS_SRC_ALPHA" srcAlpha="ONE" dstAlpha="ONE_MINUS_SRC_ALPHA" />
    <cull mode="OFF" />
    <transparent type="TRANSPARENT" />
    <!--#############################  VERTEX  #############################-->
    <vertex><![CDATA[
#version 150

#if __VERSION__ >= 130
  #define attribute in
  #define varying out
#endif

#ifdef GL_ES
precision mediump float;
precision mediump int;
#endif

uniform mat4 worldToCameraMatrix , projectionMatrix ;
uniform mat4 localToWorldMatrix ;// TEST IMPL

attribute vec4 positions;
attribute vec4 colors;
attribute vec2 	uvs;

varying vec4	v_color ;
varying vec2 	v_texCoord;

void main(void)
{
 	gl_Position = projectionMatrix * worldToCameraMatrix * localToWorldMatrix * positions ;
// 	v_color = vec4(0.5,1.0 , 0.0, 1.0) ;
 	v_color = colors ;
	v_texCoord = uvs;

}

]]></vertex>
    <!--############################  FRAGMENT  ############################-->
    <fragment><![CDATA[

#version 150
//#extension GL_EXT_gpu_shader4 : enable

#if __VERSION__ >= 130
  #define varying in
  out vec4 mgl_FragColor;
  #define gl_FragColor mgl_FragColor
#endif

#ifdef GL_ES
precision mediump float;
precision mediump int;
#endif

uniform sampler2D 	_MainTex ;

varying vec4	v_color ;
uniform vec4	pointColor ;
varying vec2 	v_texCoord;

void main (void)
{
//	vec4 tex2 = texture2D(_MainTex , v_texCoord) ;

	gl_FragColor  = v_color  ;
//	gl_FragColor  = tex2 * (1.0 - max_blend ) + vec4( v_color.rgb , v_color.a )* max_blend ;
//	gl_FragColor  = tex2 * (1.0 - v_color.a) + v_color * ( v_color.a );

//	gl_FragColor = v_color ;
//	gl_FragColor = vec4(1.0,0.0,0.5,1.0) ;
}

]]></fragment>
</shader>

