<?xml version="1.0" encoding="UTF-8"?>
<shader language="GLSL" name="Check Pattern">
    <properties>
    </properties>
    <blend srcColor="ONE" dstColor="ONE_MINUS_SRC_ALPHA" srcAlpha="ONE" dstAlpha="ONE_MINUS_SRC_ALPHA" />
    <cull mode="OFF" />
    <transparent type="TRANSPARENT" />

    <!--#############################  VERTEX  #############################-->
    <vertex><![CDATA[
#version 150

#if __VERSION__ >= 130
  #define attribute in
  #define varying out
#endif

#ifdef GL_ES
precision mediump float;
precision mediump int;
#endif

uniform mat4 worldToCameraMatrix , projectionMatrix ;
uniform mat4 localToWorldMatrix ;// TEST IMPL

attribute vec4 positions;

void main(void)
{
 	gl_Position = projectionMatrix * worldToCameraMatrix * localToWorldMatrix * positions ;
}

]]></vertex>
    <!--############################  FRAGMENT  ############################-->
    <fragment><![CDATA[
#version 150

//#extension GL_EXT_gpu_shader4 : enable

#if __VERSION__ >= 130
  #define varying in
  out vec4 mgl_FragColor;
  #define gl_FragColor mgl_FragColor
#endif

#ifdef GL_ES
precision mediump float;
precision mediump int;
#endif

uniform vec4 color1 ;
uniform vec4 color2 ;
uniform float checkSize ;//= 10.0

void main (void)
{
     float x = floor(gl_FragCoord.x / checkSize) ;
     float y = floor(gl_FragCoord.y / checkSize) ;
     float w = mod(x + y , 2.0) ;
     gl_FragColor  = color1 * w + color2*(1.0-w) ;
}

]]></fragment>
</shader>

